<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Language Mode</title>
  
  <style>
        body {
      font-family: sans-serif;
      background: #f5f5f5;
      margin: 0;
      padding: 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      color: #333;
    }
    #language-toggle {
      position: fixed;
      top: 1rem;
      left: 2rem;
      padding: 0.5rem 1rem;
      font-size: 1rem;
      cursor: pointer;
    }
    #streak {
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }
    #lives {
      position: fixed;
      top: 1rem;
      right: 2rem;
      font-size: 1.5rem;
      color: red;
    }
    .lesson-box {
      background: white;
      padding: 1rem;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      margin-top: 1rem;
      text-align: center;
      max-width: 400px;
      width: 100%;
    }
    button {
      margin-top: 1rem;
      padding: 0.5rem 1rem;
      font-size: 1rem;
      cursor: pointer;
    }
    #language-select {
      margin-top: 1rem;
    }
    #story, #dialogue, #question-box {
      margin-top: 2rem;
      background: #fff;
      padding: 1rem;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      max-width: 600px;
      width: 100%;
    }
    .correct {
      background-color: #d4edda;
      transition: background-color 0.3s ease;
    }
    .incorrect {
      background-color: #f8d7da;
      animation: shake 0.3s;
    }
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      50% { transform: translateX(5px); }
      75% { transform: translateX(-5px); }
    }
    .accent-buttons {
      margin-top: 1rem;
    }
    .accent-buttons button {
      margin: 0.2rem;
      font-size: 1rem;
      padding: 0.3rem 0.5rem;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <button id="language-toggle" onclick="toggleLanguage()">üá´üá∑ Fran√ßais / üáÆüáπ Italiano</button>

  <div id="content-fr">
    <h1>Language Mode - Fran√ßais</h1>
    <div id="streak">üî• Streak: 0 days</div>
    <div id="lives">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>

    <div class="lesson-box">
      <div id="phrase">Cliquez ci-dessous pour commencer votre le√ßon</div>
      <div id="language-select">
        <button onclick="loadLesson('french')">Commencer le Fran√ßais</button>
      </div>
    </div>

    <div id="story">
      <h3>üìñ Extrait de roman</h3>
      <p id="story-text">Cliquez ici pour lire un passage.</p>
      <button onclick="loadStory()">Lire un texte</button>
    </div>

    <div id="dialogue">
      <h3>üó£Ô∏è Louis demande</h3>
      <p id="question">Clique sur un extrait pour recevoir une question.</p>
    </div>

    <div id="question-box">
      <label for="user-answer">Ta r√©ponse : </label><br>
      <textarea id="user-answer" rows="3" cols="40" placeholder="√âcris ta r√©ponse ici..."></textarea>
      <div class="accent-buttons">
        <button onclick="addAccent('√†')">√†</button>
        <button onclick="addAccent('√¢')">√¢</button>
        <button onclick="addAccent('√ß')">√ß</button>
        <button onclick="addAccent('√©')">√©</button>
        <button onclick="addAccent('√®')">√®</button>
        <button onclick="addAccent('√™')">√™</button>
        <button onclick="addAccent('√´')">√´</button>
        <button onclick="addAccent('√Æ')">√Æ</button>
        <button onclick="addAccent('√Ø')">√Ø</button>
        <button onclick="addAccent('√¥')">√¥</button>
        <button onclick="addAccent('√π')">√π</button>
        <button onclick="addAccent('√ª')">√ª</button>
        <button onclick="addAccent('√º')">√º</button>
        <button onclick="addAccent('√ø')">√ø</button>
      </div>
      <br>
      <button onclick="submitAnswer()">Soumettre</button>
      <p id="response-confirmation"></p>
    </div>
  </div>

  <div id="content-it" class="hidden">
    <h1>Language Mode - Italiano</h1>
    <div id="streak">üî• Serie: 0 giorni</div>
    <div id="lives">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>

    <div class="lesson-box">
      <div id="phrase">Clicca qui sotto per iniziare la tua lezione</div>
      <div id="language-select">
        <button onclick="loadLesson('italian')">Inizia Italiano</button>
      </div>
    </div>

    <div id="story">
      <h3>üìñ Estratto di romanzo</h3>
      <p id="story-text">Clicca per leggere un estratto.</p>
      <button onclick="loadStory()">Leggi un testo</button>
    </div>

    <div id="dialogue">
      <h3>üó£Ô∏è Luigi chiede</h3>
      <p id="question">Clicca un estratto per ricevere una domanda.</p>
    </div>

    <div id="question-box">
      <label for="user-answer">La tua risposta: </label><br>
      <textarea id="user-answer" rows="3" cols="40" placeholder="Scrivi qui la tua risposta..."></textarea>
      <div class="accent-buttons">
        <button onclick="addAccent('√†')">√†</button>
        <button onclick="addAccent('√®')">√®</button>
        <button onclick="addAccent('√©')">√©</button>
        <button onclick="addAccent('√¨')">√¨</button>
        <button onclick="addAccent('√≤')">√≤</button>
        <button onclick="addAccent('√π')">√π</button>
      </div>
      <br>
      <button onclick="submitAnswer()">Invia</button>
      <p id="response-confirmation"></p>
    </div>
  </div>

  <script>
    function toggleLanguage() {
      const fr = document.getElementById('content-fr');
      const it = document.getElementById('content-it');
      fr.classList.toggle('hidden');
      it.classList.toggle('hidden');
    }
  </script>

<div id="question-box">
  <label for="user-answer">Ta r√©ponse : </label><br>
  <textarea id="user-answer" rows="3" cols="40" placeholder="√âcris ta r√©ponse ici..."></textarea>
  <div class="accent-buttons">
    <button onclick="addAccent('√†')">√†</button>
    <button onclick="addAccent('√¢')">√¢</button>
    <button onclick="addAccent('√ß')">√ß</button>
    <button onclick="addAccent('√©')">√©</button>
    <button onclick="addAccent('√®')">√®</button>
    <button onclick="addAccent('√™')">√™</button>
    <button onclick="addAccent('√´')">√´</button>
    <button onclick="addAccent('√Æ')">√Æ</button>
    <button onclick="addAccent('√Ø')">√Ø</button>
    <button onclick="addAccent('√¥')">√¥</button>
    <button onclick="addAccent('√π')">√π</button>
    <button onclick="addAccent('√ª')">√ª</button>
    <button onclick="addAccent('√º')">√º</button>
    <button onclick="addAccent('√ø')">√ø</button>
  </div>
  <br>
  <button onclick="submitAnswer()">Submit</button>
  <p id="response-confirmation"></p>
</div>

<audio id="audio" preload="auto" controls style="display:none"></audio>

<script>
  const lessons = {
    french: [
      { phrase: "Bonjour, comment √ßa va ?", audio: "audio/bonjour.mp3" },
      { phrase: "Je voudrais un caf√©.", audio: "audio/cafe.mp3" },
      { phrase: "O√π sont les toilettes ?", audio: "audio/toilettes.mp3" }
    ]
  };

  const stories = [
    {
      text: "Jean Valjean entra dans la ville de Digne, fatigu√© et m√©fiant, apr√®s des ann√©es au bagne.",
      question: "Que veut dire 'bagne' en anglais ?",
      answer: "prison"
    },
    
{
  text: "Pinocchio, malgr√© les avertissements, suivit le Chat et le Renard, oubliant son devoir d‚Äôaller √† l‚Äô√©cole.",
  question: "Qui Pinocchio suit-il au lieu d'aller √† l'√©cole ?",
  answer: "le chat et le renard"
},
{
  text: "Dans les ruelles de Venise, le jeune Tonio r√™vait de devenir musicien, d√©fiant la tradition de son aristocratique famille.",
  question: "Quel est le r√™ve de Tonio ?",
  answer: "devenir musicien"
},
{
  text: "L√©opardi contemplait la lune solitaire, m√©ditant sur la nature humaine et le destin des hommes.",
  question: "Que fait L√©opardi en regardant la lune ?",
  answer: "il m√©dite sur la condition humaine"
},
{
  text: "Silvio, dans un petit village de Calabre, √©crivait des lettres √† sa bien-aim√©e, esp√©rant la revoir apr√®s des ann√©es d‚Äôexil.",
  question: "Pourquoi Silvio √©crit-il des lettres ?",
  answer: "pour revoir sa bien-aim√©e"
},
{
  text: "Fra Cristoforo leva la main pour b√©nir Lucia et Renzo, leur offrant espoir dans leur fuite.",
  question: "Que fait Fra Cristoforo pour les jeunes ?",
  answer: "il les b√©nit"
},
{
  text: "Pinocchio regretta ses erreurs en voyant Geppetto malade et pauvre √† cause de ses choix.",
  question: "Pourquoi Pinocchio regrette-t-il ?",
  answer: "parce que Geppetto est malade et pauvre"
},
{
  text: "Le comte Mosca observa la duchesse Sanseverina avec admiration et amour secret.",
  question: "Que ressent le comte Mosca ?",
  answer: "de l'amour"
},
{
  text: "Dans la chaleur sicilienne, Angelica marchait avec assurance, consciente de son charme et de son rang.",
  question: "Comment marche Angelica ?",
  answer: "avec assurance"
},
{
  text: "Andrea, sur le quai de Naples, regardait les bateaux partir, r√™vant d‚Äôun avenir libre et glorieux.",
  question: "Que fait Andrea au quai ?",
  answer: "il regarde les bateaux partir"
},
{
  text: "Maria, v√™tue de noir, relisait les lettres de son mari tomb√© √† la guerre, les larmes aux yeux.",
  question: "Pourquoi Maria pleure-t-elle ?",
  answer: "elle relit les lettres de son mari"
},
{
  text: "Le jeune Giuseppe se leva t√¥t pour aider son p√®re dans les champs, fier de ses racines.",
  question: "Pourquoi Giuseppe se l√®ve-t-il t√¥t ?",
  answer: "pour aider son p√®re"
},
{
  text: "La vieille Teresa chantait des ballades oubli√©es sur la terrasse, ses souvenirs m√™l√©s au vent.",
  question: "Que fait Teresa sur la terrasse ?",
  answer: "elle chante des ballades"
},
{
  text: "Vittorio √©crivait dans son journal, notant chaque d√©tail de son voyage √† travers la Toscane.",
  question: "Qu‚Äô√©crit Vittorio ?",
  answer: "les d√©tails de son voyage"
},
{
  text: "Le soleil se couchait sur les collines ombriennes alors que Lucia serrait un livre contre elle.",
  question: "Que tient Lucia contre elle ?",
  answer: "un livre"
},
{
  text: "Paolo construisit une barque de ses mains, esp√©rant traverser le lac et rejoindre sa famille.",
  question: "Pourquoi Paolo construit-il une barque ?",
  answer: "pour rejoindre sa famille"
},
{
  text: "Francesca, au march√© de Florence, n√©gociait avec ardeur, sa voix claire attirant les regards.",
  question: "O√π Francesca est-elle ?",
  answer: "au march√© de Florence"
},
{
  text: "Un air d‚Äôop√©ra flottait dans la rue tandis que Pietro se souvenait de ses jours sur sc√®ne.",
  question: "De quoi Pietro se souvient-il ?",
  answer: "de ses jours sur sc√®ne"
},
{
  text: "Les cloches sonnaient dans le village pendant que Clara √©crivait un po√®me √† la lumi√®re d‚Äôune bougie.",
  question: "Que fait Clara pendant que les cloches sonnent ?",
  answer: "elle √©crit un po√®me"
},
{
  text: "Gianni, le regard tourn√© vers les Alpes, r√™vait de les traverser un jour avec son fr√®re.",
  question: "Que r√™ve Gianni de faire ?",
  answer: "traverser les Alpes"
},
{
  text: "Derri√®re le comptoir du caf√© familial, Rosa √©coutait les histoires de la ville.",
  question: "O√π Rosa travaille-t-elle ?",
  answer: "dans le caf√© familial"
},
{
  text: "Massimo nettoyait sa bicyclette, esp√©rant gagner la course du dimanche.",
  question: "Pourquoi Massimo nettoie-t-il son v√©lo ?",
  answer: "pour la course du dimanche"
},
{
  text: "Nina cueillait des olives au lever du soleil, fredonnant une vieille chanson napolitaine.",
  question: "Que fait Nina ?",
  answer: "elle cueille des olives"
},
{
  text: "Luca lisait les √©crits de Dante, √©merveill√© par la beaut√© des mots.",
  question: "Que lit Luca ?",
  answer: "les √©crits de Dante"
},
{
  text: "Elena marchait sur les pierres anciennes de Rome, son carnet √† la main.",
  question: "Que tient Elena dans la main ?",
  answer: "un carnet"
},
{
  text: "Matteo sculptait le bois avec patience, cr√©ant une chaise pour son fils.",
  question: "Que fabrique Matteo ?",
  answer: "une chaise"
},
{
  text: "Isabella s'arr√™tait au bord du lac de C√¥me, respirant l‚Äôair frais et paisible.",
  question: "O√π est Isabella ?",
  answer: "au bord du lac de C√¥me"
},
{
  text: "Giulia d√©corait la table pour le repas du soir, riant avec sa grand-m√®re.",
  question: "Que fait Giulia avec sa grand-m√®re ?",
  answer: "elle rit et d√©core la table"
},
{
  text: "Antonio √©crivait une lettre √† son ami rest√© √† Palerme, racontant sa nouvelle vie √† Turin.",
  question: "√Ä qui Antonio √©crit-il ?",
  answer: "√† son ami de Palerme"
},
{
  text: "Margherita, en robe blanche, attendait sous l‚Äôarche en pierre, tenant une fleur s√©ch√©e.",
  question: "Que tient Margherita ?",
  answer: "une fleur s√©ch√©e"
},
{
  text: "Jean Valjean porta Marius bless√© √† travers les √©gouts de Paris pour lui sauver la vie.",
  question: "Qui Jean Valjean a-t-il sauv√© ?",
  answer: "Marius"
},
{
  text: "Cosette grandit en s√©curit√© avec Valjean apr√®s une enfance malheureuse chez les Th√©nardier.",
  question: "O√π Cosette √©tait-elle malheureuse ?",
  answer: "chez les Th√©nardier"
},
{
  text: "Julien Sorel ambitionnait de gravir les √©chelons sociaux gr√¢ce √† son intelligence.",
  question: "Que voulait faire Julien Sorel ?",
  answer: "gravir les √©chelons sociaux"
},
{
  text: "Madame Bovary se sentait pi√©g√©e dans sa routine provinciale, r√™vant d'une vie de luxe.",
  question: "Comment se sent Madame Bovary ?",
  answer: "pi√©g√©e"
},
{
  text: "Meursault, apr√®s la mort de sa m√®re, agit avec indiff√©rence face au monde.",
  question: "Comment agit Meursault apr√®s la mort de sa m√®re ?",
  answer: "avec indiff√©rence"
},
{
  text: "Camille, dans 'Le Fabuleux Destin d'Am√©lie Poulain', d√©cide de changer la vie des gens autour d'elle.",
  question: "Que veut faire Am√©lie ?",
  answer: "changer la vie des gens"
},
{
  text: "Antoine Doinel, dans 'Les Quatre Cents Coups', fuit l'√©cole et sa famille, cherchant sa libert√©.",
  question: "Que cherche Antoine Doinel ?",
  answer: "sa libert√©"
},
{
  text: "La B√™te apprit √† aimer gr√¢ce √† la gentillesse et la patience de Belle.",
  question: "Qui a transform√© la B√™te ?",
  answer: "Belle"
},
{
  text: "Fantine vendit ses cheveux et ses dents pour nourrir sa fille Cosette.",
  question: "Pourquoi Fantine vend-elle ses cheveux ?",
  answer: "pour nourrir sa fille"
},
{
  text: "P√©p√© le Moko vivait cach√© dans la Casbah d'Alger, poursuivi par la police.",
  question: "O√π se cache P√©p√© le Moko ?",
  answer: "dans la Casbah"
},
{
  text: "Monsieur Hulot, dans 'Les Vacances de Monsieur Hulot', provoque des situations comiques malgr√© lui.",
  question: "Comment sont les actions de Monsieur Hulot ?",
  answer: "comiques"
},
{
  text: "Dans Cyrano de Bergerac, Cyrano cache son amour pour Roxane √† cause de son nez.",
  question: "Pourquoi Cyrano ne d√©clare-t-il pas son amour ?",
  answer: "√† cause de son nez"
},
{
  text: "Le Petit Prince apprit la valeur de l'amiti√© gr√¢ce au renard.",
  question: "Quel animal apprend une le√ßon au Petit Prince ?",
  answer: "le renard"
},
{
  text: "Germinal d√©peint la vie dure des mineurs luttant pour des conditions meilleures.",
  question: "Quel est le sujet de Germinal ?",
  answer: "la vie des mineurs"
},
{
  text: "Albert, dans La Peste, tente de combattre l'√©pid√©mie tout en questionnant le sens de la vie.",
  question: "Que fait Albert dans La Peste ?",
  answer: "il combat l'√©pid√©mie"
},
{
  text: "Dans Les Choristes, Cl√©ment Mathieu d√©couvre les talents cach√©s des √©l√®ves.",
  question: "Que d√©couvre Cl√©ment Mathieu ?",
  answer: "les talents des √©l√®ves"
},
{
  text: "Louise, dans Tomboy, lutte pour affirmer son identit√© de genre dans un nouvel environnement.",
  question: "Quel est le th√®me de Tomboy ?",
  answer: "l'identit√© de genre"
},
{
  text: "Dans Le D√Æner de Cons, Fran√ßois Pignon est invit√© pour √™tre ridiculis√©, sans le savoir.",
  question: "Pourquoi Fran√ßois Pignon est-il invit√© ?",
  answer: "pour √™tre ridiculis√©"
},
{
  text: "Mathilde cherche son fianc√© disparu dans les tranch√©es de la Premi√®re Guerre mondiale dans Un long dimanche de fian√ßailles.",
  question: "Que cherche Mathilde ?",
  answer: "son fianc√©"
},
{
  text: "Michel, dans √Ä bout de souffle, est un criminel en fuite inspir√© par le cin√©ma am√©ricain.",
  question: "Par quoi Michel est-il inspir√© ?",
  answer: "le cin√©ma am√©ricain"
},
{
  text: "Dans Persepolis, Marjane raconte son enfance en Iran pendant la r√©volution islamique.",
  question: "O√π se d√©roule Persepolis ?",
  answer: "en Iran"
},
{
  text: "L√©on, un tueur √† gages, devient protecteur d'une jeune fille, Mathilda.",
  question: "Quel est le r√¥le de L√©on pour Mathilda ?",
  answer: "protecteur"
},
{
  text: "Dans L'Auberge espagnole, Xavier d√©couvre la diversit√© culturelle en vivant avec des √©tudiants europ√©ens.",
  question: "Que d√©couvre Xavier ?",
  answer: "la diversit√© culturelle"
},
{
  text: "Le Comte de Monte-Cristo s'√©vade de prison et se venge de ses ennemis.",
  question: "Que fait le Comte de Monte-Cristo apr√®s son √©vasion ?",
  answer: "il se venge"
},
{
  text: "Hugo Cabret vit dans une gare parisienne, r√©parant des horloges et poursuivant le r√™ve de son p√®re.",
  question: "O√π vit Hugo Cabret ?",
  answer: "dans une gare"
},
{
  text: "Dans La Haine, trois amis luttent contre les injustices sociales en banlieue parisienne.",
  question: "Quel est le th√®me principal de La Haine ?",
  answer: "les injustices sociales"
},
{
  text: "Ad√®le, dans La Vie d'Ad√®le, explore sa sexualit√© et ses sentiments √† travers une relation intense.",
  question: "Quel aspect de la vie Ad√®le explore-t-elle ?",
  answer: "sa sexualit√©"
},
{
  text: "Cl√©o attend les r√©sultats d'un examen m√©dical dans Cl√©o de 5 √† 7, observant la ville et sa propre vie.",
  question: "Que fait Cl√©o pendant deux heures ?",
  answer: "elle attend des r√©sultats"
},
{
  text: "Dans Les Demoiselles de Rochefort, les jumelles r√™vent d‚Äôamour et de musique dans une ville color√©e.",
  question: "De quoi r√™vent les jumelles ?",
  answer: "d'amour et de musique"
},
{
  text: "Le petit prince regarda les √©toiles et dit : 'On ne voit bien qu‚Äôavec le c≈ìur. L‚Äôessentiel est invisible pour les yeux.'",
  question: "Que veut dire 'l‚Äôessentiel est invisible pour les yeux' ?",
  answer: "les choses importantes ne se voient pas"
},
{
  text: "Candide, apr√®s mille √©preuves, conclut que le mieux √©tait de cultiver son jardin, loin des guerres et des dogmes philosophiques.",
  question: "Que d√©cide de faire Candide ?",
  answer: "cultiver son jardin"
},
{
  text: "Rastignac, en haut de la butte Montmartre, lan√ßa √† Paris un d√©fi silencieux, d√©cid√© √† conqu√©rir la capitale co√ªte que co√ªte.",
  question: "Qu‚Äôest-ce que Rastignac veut faire ?",
  answer: "conqu√©rir paris"
},
{
  text: "Julien Sorel, jeune homme ambitieux, cachait un exemplaire du M√©morial de Sainte-H√©l√®ne sous son matelas.",
  question: "Quel livre Julien Sorel cache-t-il ?",
  answer: "le m√©morial de sainte-h√©l√®ne"
},
{
  text: "Marius observait Cosette de loin, tombant peu √† peu amoureux d‚Äôelle sans jamais lui adresser la parole.",
  question: "Qui Marius observe-t-il ?",
  answer: "cosette"
},
    
    {
      text: "Emma Bovary, insatisfaite de sa vie de province, r√™vait de passion et de luxe comme dans les romans.",
      question: "Comment se sent Emma Bovary ?",
      answer: "insatisfaite"
    },
    {
      text: "Il √©tait une fois un roi et une reine, qui vivaient dans un grand ch√¢teau au milieu de la for√™t...",
      question: "O√π habitaient le roi et la reine ?",
      answer: "un ch√¢teau"
    }
  ];

  let currentAnswer = "";
  let lives = 3;
  let questionCount = 0;

  function updateStreak() {
    const today = new Date().toDateString();
    const lastDay = localStorage.getItem('lastDay');
    let streak = parseInt(localStorage.getItem('streak')) || 0;

    if (lastDay === today) return;
    const yesterday = new Date(Date.now() - 86400000).toDateString();
    streak = lastDay === yesterday ? streak + 1 : 1;

    localStorage.setItem('lastDay', today);
    localStorage.setItem('streak', streak);
    document.getElementById('streak').innerText = `üî• Streak: ${streak} days`;
  }

  let currentAudio = '';

  function loadLesson(lang) {
    const set = lessons[lang];
    const lesson = set[Math.floor(Math.random() * set.length)];
    document.getElementById('phrase').innerText = lesson.phrase;
    currentAudio = lesson.audio;
    questionCount = 0;
    lives = 3;
    updateLives();
  }

  function playAudio() {
    const audio = document.getElementById('audio');
    if (currentAudio) {
      audio.src = currentAudio;
      audio.play();
    }
  }

  function loadStory() {
    if (questionCount >= 10) {
      alert("F√©licitations ! Vous avez termin√© la le√ßon.");
      return;
    }
    const story = stories[Math.floor(Math.random() * stories.length)];
    document.getElementById('story-text').innerText = story.text;
    document.getElementById('question').innerText = "Louis : " + story.question;
    currentAnswer = story.answer.toLowerCase();
    document.getElementById('user-answer').classList.remove('correct', 'incorrect');
    document.getElementById('response-confirmation').innerText = "";
  }

  function submitAnswer() {
    const textarea = document.getElementById('user-answer');
    const userResponse = textarea.value.trim().toLowerCase();
    textarea.classList.remove('correct', 'incorrect');

    if (!userResponse) return;

    if (userResponse === currentAnswer) {
      textarea.classList.add('correct');
      document.getElementById('response-confirmation').innerText = "Bonne r√©ponse ! üòä";
      questionCount++;
      setTimeout(loadStory, 1000);
    } else {
      textarea.classList.add('incorrect');
      document.getElementById('response-confirmation').innerText = "Pas tout √† fait. Essaie encore !";
      lives--;
      updateLives();
      if (lives <= 0) {
        alert("Tu as perdu toutes tes vies. Red√©marre la le√ßon.");
        questionCount = 0;
        lives = 3;
        updateLives();
      }
    }
  }

  function updateLives() {
    const heart = '‚ù§Ô∏è';
    document.getElementById('lives').innerText = heart.repeat(lives);
  }

  function addAccent(letter) {
    const textarea = document.getElementById('user-answer');
    const start = textarea.selectionStart;
    const end = textarea.selectionEnd;
    textarea.value = textarea.value.slice(0, start) + letter + textarea.value.slice(end);
    textarea.focus();
    textarea.selectionStart = textarea.selectionEnd = start + 1;
  }

  window.addEventListener('load', () => {
    updateStreak();
  });
</script>
</body>
</html>